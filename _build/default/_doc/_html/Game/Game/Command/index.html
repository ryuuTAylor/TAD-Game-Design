<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Command (Game.Game.Command)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Game</a> &#x00BB; <a href="../index.html">Game</a> &#x00BB; Command</nav><header class="odoc-preamble"><h1>Module <code><span>Game.Command</span></code></h1><p>Parsing of player commands.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-object_phrase" class="anchored"><a href="#type-object_phrase" class="anchor"></a><code><span><span class="keyword">type</span> object_phrase</span><span> = <span>string list</span></span></code></div><div class="spec-doc"><p>The type <code>object_phrase</code> represents the object phrase that can be part of a player command. Each element of the list represents a word of the object phrase, where a &quot;word&quot; is defined as a consecutive sequence of non-space characters. Thus, no element of the list should contain any leading, internal, or trailing spaces. The list is in the same order as the words in the original player command. For example:</p><ul><li>If the player command is <code>&quot;go clock tower&quot;</code>, then the object phrase is <code>[&quot;clock&quot;; &quot;tower&quot;]</code>.</li></ul><ul><li>If the player command is <code>&quot;go clock     tower&quot;</code>, then the object phrase is again <code>[&quot;clock&quot;; &quot;tower&quot;]</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-command" class="anchored"><a href="#type-command" class="anchor"></a><code><span><span class="keyword">type</span> command</span><span> = </span></code><table><tr id="type-command.Go" class="anchored"><td class="def variant constructor"><a href="#type-command.Go" class="anchor"></a><code><span>| </span><span><span class="constructor">Go</span> <span class="keyword">of</span> <a href="#type-object_phrase">object_phrase</a></span></code></td></tr><tr id="type-command.Quit" class="anchored"><td class="def variant constructor"><a href="#type-command.Quit" class="anchor"></a><code><span>| </span><span><span class="constructor">Quit</span></span></code></td></tr></table></div><div class="spec-doc"><p>The type <code>command</code> represents a player command that is decomposed into a verb and possibly an object phrase. Invariant: the <code>object_phrase</code> carried by <code>Go</code> must not be empty.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Empty" class="anchored"><a href="#exception-Empty" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Empty</span></span></code></div><div class="spec-doc"><p>Raised when an empty command is parsed.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Malformed" class="anchored"><a href="#exception-Malformed" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Malformed</span></span></code></div><div class="spec-doc"><p>Raised when a malformed command is parsed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse" class="anchored"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-command">command</a></span></code></div><div class="spec-doc"><p><code>parse str</code> parses a player's input into a <code>command</code>, as follows. The first word (i.e., consecutive sequence of non-space characters) of <code>str</code> becomes the verb. The rest of the words, if any, become the object phrase. Examples:</p><ul><li><code>parse &quot;    go   clock   tower   &quot;</code> is <code>Go [&quot;clock&quot;; &quot;tower&quot;]</code></li><li><code>parse &quot;quit&quot;</code> is <code>Quit</code>.</li></ul><p>Requires: <code>str</code> contains only alphanumeric (A-Z, a-z, 0-9) and space characters (only ASCII character code 32; not tabs or newlines, etc.).</p><p>Raises: <code>Empty</code> if <code>str</code> is the empty string or contains only spaces.</p><p>Raises: <code>Malformed</code> if the command is malformed. A command is malformed if the verb is neither &quot;quit&quot; nor &quot;go&quot;, or if the verb is &quot;quit&quot; and there is a non-empty object phrase, or if the verb is &quot;go&quot; and there is an empty object phrase.</p></div></div></div></body></html>