<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Adventure (Game.Game.Adventure)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Game</a> &#x00BB; <a href="../index.html">Game</a> &#x00BB; Adventure</nav><header class="odoc-preamble"><h1>Module <code><span>Game.Adventure</span></code></h1><p>Representation of static adventure data.</p><p>This module represents the data stored in adventure files, including the rooms and exits. It handles loading of that data from JSON as well as querying the data.</p><p>For examples, the specifications in this interface reference the example &quot;Ho Plaza&quot; adventure found in <code>data/ho_plaza.json</code>.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The abstract type of values representing adventures.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-UnknownRoom" class="anchored"><a href="#exception-UnknownRoom" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UnknownRoom</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Raised when an unknown room identifier is encountered. It carries the identifier of the unknown room.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-UnknownExit" class="anchored"><a href="#exception-UnknownExit" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UnknownExit</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Raised when an unknown exit is encountered. It carries the name of the unknown exit.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_json" class="anchored"><a href="#val-from_json" class="anchor"></a><code><span><span class="keyword">val</span> from_json : <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>from_json j</code> is the adventure that <code>j</code> represents. Requires: <code>j</code> is a valid JSON adventure representation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-start_room" class="anchored"><a href="#val-start_room" class="anchor"></a><code><span><span class="keyword">val</span> start_room : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>start_room a</code> is the identifier of the starting room in adventure <code>a</code>. Example: the <code>start_room</code> of Ho Plaza is <code>&quot;ho plaza&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-room_ids" class="anchored"><a href="#val-room_ids" class="anchor"></a><code><span><span class="keyword">val</span> room_ids : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>room_ids a</code> is a set-like list of all of the room identifiers in adventure <code>a</code>. Example: the <code>room_ids</code> of Ho Plaza are <code>&quot;ho plaza&quot;</code>, <code>&quot;health&quot;</code>, <code>&quot;tower&quot;</code>, and <code>&quot;nirvana&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-description" class="anchored"><a href="#val-description" class="anchor"></a><code><span><span class="keyword">val</span> description : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>description a r</code> is the description of the room with identifier <code>r</code> in adventure <code>a</code>. Raises <code>UnknownRoom r</code> if <code>r</code> is not a room identifier in <code>a</code>. Example: in Ho Plaza, the <code>description</code> of room identifier <code>&quot;ho plaza&quot;</code> begins with <code>&quot;You are on Ho Plaza. &quot;</code> and continues with a few more sentences, which are omitted here for brevity.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exits" class="anchored"><a href="#val-exits" class="anchor"></a><code><span><span class="keyword">val</span> exits : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>exits a r</code> is a set-like list of all exit names from the room with identifier <code>r</code> in adventure <code>a</code>. Raises <code>UnknownRoom r</code> if <code>r</code> is not a room identifier in <code>a</code>. Example: in Ho Plaza, the <code>exits</code> from room identifier <code>&quot;health&quot;</code> are <code>&quot;northeast&quot;</code>, <code>&quot;north east&quot;</code>, and <code>&quot;Ho Plaza&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-next_room" class="anchored"><a href="#val-next_room" class="anchor"></a><code><span><span class="keyword">val</span> next_room : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>next_room a r e</code> is the identifier of the room in adventure <code>a</code> that is immediately reached by taking the exit named <code>e</code> from the room with identifier <code>r</code>. Raises <code>UnknownRoom r</code> if <code>r</code> is not a room identifier in <code>a</code>. Raises <code>UnknownExit e</code> if <code>e</code> is not the name of an exit from the room with identifier <code>r</code> in <code>a</code>. Example: in Ho Plaza, taking exit <code>&quot;northeast&quot;</code> from room identifier <code>&quot;health&quot;</code> results in the <code>next_room</code> of <code>&quot;ho plaza&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-next_rooms" class="anchored"><a href="#val-next_rooms" class="anchor"></a><code><span><span class="keyword">val</span> next_rooms : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>next_rooms a r</code> is a set-like list of all the identifiers of rooms in adventure <code>a</code> that are immediately reachable by taking any exit from the room with identifier <code>r</code>. Raises <code>UnknownRoom r</code> if <code>r</code> is not a room identifier in <code>a</code>. Example: in Ho Plaza, the <code>next_rooms</code> from room identifier <code>&quot;ho plaza&quot;</code> are <code>&quot;health&quot;</code> and <code>&quot;tower&quot;</code>.</p></div></div></div></body></html>